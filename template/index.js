(function(f,t,d,p){"use strict";const l="1250917677078151268",u="https://cdn.discordapp.com/icons/1250917677078151268/bbf76e3dcd1d846e3bfd6382da4aa879.png?size=96&quality=lossless",h=function(){p.logger.log("IconReplace Plugin Loaded");const o=t.findByProps("getGuildIconURL","getGuildIcon")||t.findByProps("getGuildIconURL");o&&o.getGuildIconURL&&(p.logger.log("\u2705 Found IconUtils, patching getGuildIconURL"),d.instead("IconReplaceIconUtils",o,"getGuildIconURL",function(i,s){const[e,c,R]=s;return e&&e.id===l?(p.logger.log(`\u{1F3AF} Intercepted icon request for server ${l}`),u):i.apply(this,s)}));let n=t.findByDisplayName("GuildIcon")||t.findByName("GuildIcon")||t.findByProps("guild","size","animate");n&&(p.logger.log("\u2705 Found GuildIcon component, applying patches"),typeof n=="function"&&!n.prototype?.render&&d.instead("IconReplaceGuildIconFunc",n,"type",function(i,s){const e=s[0],c=i.apply(this,s);return e?.guild?.id===l?(p.logger.log(`\u{1F3AF} Function component render for server ${l}`),g(c)):c}),n.prototype?.render&&d.instead("IconReplaceGuildIconClass",n.prototype,"render",function(i,s){const e=i.apply(this,s);return this.props?.guild?.id===l?(p.logger.log(`\u{1F3AF} Class component render for server ${l}`),g(e,this.props)):e}),n.default&&d.instead("IconReplaceGuildIconDefault",n,"default",function(i,s){const e=s[0],c=i.apply(this,s);return e?.guild?.id===l?(p.logger.log(`\u{1F3AF} Default export render for server ${l}`),g(c)):c}));const r=t.findByDisplayName("Avatar")||t.findByProps("src","size","className");r&&(p.logger.log("\u2705 Found Avatar component, patching"),typeof r=="function"&&d.instead("IconReplaceAvatar",r,"type",function(i,s){const e=s[0],c=i.apply(this,s);return e?.src&&e.src.includes(`icons/${l}/`)?(p.logger.log(`\u{1F3AF} Avatar component for server ${l}`),g(c,{...e,src:u})):c}));const I=t.findByProps("createElement");if(I){const i=I.createElement;I.createElement=function(s,e){for(var c=arguments.length,R=new Array(c>2?c-2:0),a=2;a<c;a++)R[a-2]=arguments[a];return s==="img"&&e?.src&&e.src.includes(`icons/${l}/`)&&(p.logger.log(`\u{1F3AF} Intercepted img element for server ${l}`),e={...e,src:u,style:{...e.style||{},border:"2px solid #57F287",borderRadius:"50%"}}),i.call(this,s,e,...R)}}};function g(o,n){if(!o)return o;try{const r={...o};return r.props&&(r.props={...r.props},r.props.src&&(r.props.src=u,p.logger.log("\u2705 Modified src prop")),r.props.icon&&(r.props.icon=u,p.logger.log("\u2705 Modified icon prop")),r.props.iconURL&&(r.props.iconURL=u,p.logger.log("\u2705 Modified iconURL prop")),r.props.guild&&r.props.guild.icon&&(r.props.guild={...r.props.guild,icon:u},p.logger.log("\u2705 Modified guild.icon prop")),r.props.style={...r.props.style||{},border:"2px solid #57F287",borderRadius:"50%"},r.props.children&&(r.props.children=y(r.props.children))),r}catch(r){return p.logger.error("Error modifying icon result:",r),o}}function y(o){return Array.isArray(o)?o.map(function(n){return n&&typeof n=="object"&&n.props?n.type==="img"&&n.props.src&&n.props.src.includes(`icons/${l}/`)?{...n,props:{...n.props,src:u,style:{...n.props.style||{},border:"2px solid #57F287",borderRadius:"50%"}}}:{...n,props:{...n.props,children:n.props.children?y(n.props.children):n.props.children}}:n}):o&&typeof o=="object"&&o.props?o.type==="img"&&o.props.src&&o.props.src.includes(`icons/${l}/`)?{...o,props:{...o.props,src:u,style:{...o.props.style||{},border:"2px solid #57F287",borderRadius:"50%"}}}:{...o,props:{...o.props,children:o.props.children?y(o.props.children):o.props.children}}:o}const F=function(){const o=t.findByProps("createElement");o&&o.createElement.__original&&(o.createElement=o.createElement.__original),d.unpatchAll("IconReplaceIconUtils"),d.unpatchAll("IconReplaceGuildIconFunc"),d.unpatchAll("IconReplaceGuildIconClass"),d.unpatchAll("IconReplaceGuildIconDefault"),d.unpatchAll("IconReplaceAvatar"),p.logger.log("IconReplace Plugin Unloaded")};return f.onLoad=h,f.onUnload=F,f})({},vendetta.metro,vendetta.patcher,vendetta);
