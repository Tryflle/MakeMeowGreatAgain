(function(s,t,c,n){"use strict";const p="1250917677078151268",l="https://cdn.discordapp.com/icons/1250917677078151268/bbf76e3dcd1d846e3bfd6382da4aa879.png?size=96&quality=lossless",f=function(){n.logger.log("IconReplace Plugin Loaded");try{const r=t.findByProps("getGuildIconURL");r&&r.getGuildIconURL&&(n.logger.log("\u2705 Found IconUtils.getGuildIconURL, patching"),c.instead("IconReplaceIconUtils",r,"getGuildIconURL",function(e){const[i,u,y]=e;return i&&i.id===p?(n.logger.log(`\u{1F3AF} Intercepted getGuildIconURL for server ${p}`),l):r.getGuildIconURL.apply(this,e)}));const o=t.findByDisplayName("GuildIcon")||t.findByName("GuildIcon");o&&(n.logger.log("\u2705 Found GuildIcon component, patching"),typeof o=="function"&&!o.prototype?.render&&c.instead("IconReplaceGuildIcon",o,"default",function(e){const i=e[0],u=o.default?o.default.apply(this,e):o.apply(this,e);return i?.guild?.id===p?(n.logger.log(`\u{1F3AF} GuildIcon render for server ${p}`),g(u)):u}),o.prototype?.render&&c.instead("IconReplaceGuildIconRender",o.prototype,"render",function(e){const i=o.prototype.render.apply(this,e);return this.props?.guild?.id===p?(n.logger.log(`\u{1F3AF} GuildIcon class render for server ${p}`),g(i)):i}))}catch(r){n.logger.error("Error during plugin initialization:",r)}};function g(r){if(!r||typeof r!="object")return r;try{const o={...r};return o.props&&(o.props={...o.props},o.props.src&&o.props.src.includes("icons/")&&(o.props.src=l,n.logger.log("\u2705 Modified src property")),o.props.iconURL&&(o.props.iconURL=l,n.logger.log("\u2705 Modified iconURL property")),o.props.style={...o.props.style||{},border:"2px solid #57F287",borderRadius:"50%"},o.props.children&&(o.props.children=d(o.props.children))),o}catch(o){return n.logger.error("Error modifying icon result:",o),r}}function d(r){if(!r)return r;if(Array.isArray(r))return r.map(function(o){if(o&&typeof o=="object"&&o.props){if(o.type==="img"&&o.props.src&&o.props.src.includes(`icons/${p}/`))return{...o,props:{...o.props,src:l}};if(o.props.children)return{...o,props:{...o.props,children:d(o.props.children)}}}return o});if(r&&typeof r=="object"&&r.props){if(r.type==="img"&&r.props.src&&r.props.src.includes(`icons/${p}/`))return{...r,props:{...r.props,src:l}};if(r.props.children)return{...r,props:{...r.props,children:d(r.props.children)}}}return r}const a=function(){try{c.unpatchAll("IconReplaceIconUtils"),c.unpatchAll("IconReplaceGuildIcon"),c.unpatchAll("IconReplaceGuildIconRender"),n.logger.log("IconReplace Plugin Unloaded")}catch(r){n.logger.error("Error during plugin unload:",r)}};return s.onLoad=f,s.onUnload=a,s})({},vendetta.metro,vendetta.patcher,vendetta);
